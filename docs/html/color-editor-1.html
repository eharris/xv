<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">

<html>

<head>
<meta http-equiv="Content-Type"
content="text/html; charset=iso-8859-1">
<meta name="GENERATOR" content="Microsoft FrontPage 2.0">
<title>XV: The Color Editor, part 1/3</title>
<meta name="FORMATTER" content="Microsoft FrontPage 2.0">
</head>

<body background="images/blutxtr2.jpg" bgcolor="#ABABD6">
<p>
<a href="http://www.trilon.com/xv">
<img src="images/small_banner.gif" width="630" height="25" border="0"></a>
</p>

<h1>The Color Editor</h1>

<p><a name="color-editor-window"><img src="images/fig-101.gif"
width="678" height="548"> </a></p>

<h2><a name="overview">Overview</a></h2>

<p>The <i>xv color editor</i> provides a powerful system for
manipulating color images. Since there are many different reasons
why a person would want to modify an image's colors, and many
different types of images that may need modification, there is no
one color manipulation tool that would be 'best' for all
purposes. Because of this problem, <i>xv</i> gives the user three
different color tools, all of which can be used simultaneously.</p>

<p><i>Colormap Editing</i>: This tool lets you arbitrarily modify
individual colormap entries. Useful for modifying the color of
captions or other things that have been added to images. Also
works well on images that have a small number of colors, such as
images generated by 'drawing' or CAD programs. It's also an easy
way to spiff up boring 1-bit black and white images. Note that
the <i>Colormap Editing</i> tool is <i>not</i> available when you
are in <b>24-bit mode</b>.</p>

<p><i>HSV Modification</i>: This tool lets you alter the image
globally in the HSV colorspace. (See &quot;<a
href="rgb-hsv-colorspaces.html">RGB and HSV Colorspaces</a>&quot;
for more info.) Here are examples of the sort of things you can
do with this tool:</p>

<ul>
    <li>turn all the blues in an image into reds</li>
    <li>change the tint of an image</li>
    <li>change a greyscale image into a mauve-scale image</li>
    <li>increase or decrease the amount of color saturation in an
		image</li>
    <li>change the overall brightness of an image</li>
    <li>change the overall contrast of an image</li>
</ul>

<p><i>RGB Modification</i>: This tool lets you route the red,
green, and blue color components of an image through independent
mapping functions. The functions can either be the standard gamma
function, or any arbitrary function that can be drawn with
straight line segments or a cubic spline. See &quot;<a
href="color-editor-2.html#intensity-graph">The Intensity Graph</a>&quot;
for more info about graph functions.</p>

<p>The major use of the <i>RGB Modification</i> tool is to
correct for the differing color response curves of various color
monitors, printers, and scanners. This is the tool to use when
the image is too red, for instance.</p>

<p>These three tools are tied together in a fixed order. The <i>Colormap
Editing</i> tool operates on the original colors in the image.
The output of this tool is piped into the HSV Modification tool.
Its output is piped into the <i>RGB Modification</i> tool. The
output from the <i>RGB Modification</i> tool is what actually
gets displayed.</p>

<p>In addition there is a collection of buttons that control the <i>xv
color editor</i> as a whole (more or less).</p>

<p>Don't Panic! It's not as complicated as it looks.</p>

<h2><a name="colormap-editing-tool">The Colormap Editing Tool</a></h2>

<table border="0" cellpadding="4" cellspacing="4">
    <tr>
		<td valign="top"><img src="images/fig-102.gif"
		width="214" height="324"></td>
		<td valign="top">The top portion of this window shows the
		colormap of the current image. There are 16 cells across,
		and up to 16 rows down, for a maximum of 256 color cells.
		Only cells actually used somewhere in the image are shown
		in this array.<p>The currently selected color cell is
		shown with a thick border. You can change the selection
		by clicking anywhere in the array. If you drag the mouse
		through this area, you'll see the dials at the bottom
		change to track the current pixel values.</p>
		<p>You can also select a color cell by clicking anywhere
		in the image window. Whichever pixel value you were on
		when you let go of the mouse will become the new selected
		color cell.</p>
		</td>
    </tr>
</table>

<p>You can define a smoothly gradated range of colors by Left
clicking on the color cell that marks the 'start' of the range,
and Middle clicking on the color cell that marks the 'end' of the
range. Intervening color cells will be interpolated between the
colors of the 'start' and 'end' colorcells.</p>

<p>Since certain images will have many colors that are the same,
or nearly the same, it is sometimes convenient to group color
cells together. Grouped color cells all take on the same color,
and changing any one of them affects all of the other colors in
the group.</p>

<p>To group color cells together, do the following:</p>

<ol>
    <li>Hold down the <b>&lt;Shift&gt;</b> key.</li>
    <li>Left click on one color cell that you would like to be in
		the group</li>
    <li>Right click on other color cells that you wish to be in
		this group. (Right clicking on cells that are already
		selected will de-select them.)</li>
    <li>Release the <b>&lt;Shift&gt;</b> key when you're done.</li>
</ol>

<p>You can create as many groups as you like.</p>

<p>You can use this grouping/ungrouping technique to copy colors
from one color cell to another. Left click on the source color
cell, Right click on the destination color cell, and Right click
on the destination color cell again (to ungroup it).</p>

<h3><a name="using-dial-controls">Using the Dial Controls</a></h3>

<p>At the bottom of the <i>Colormap Editing</i> tool are three
dials that let you set the color of the current color cell (or
group of cells). By default, the dials control the Red, Green,
and Blue components of the RGB colorspace, but they can also
control the Hue, Saturation, and Value components of the HSV
colorspace. (The RGB/HSV button controls this.)</p>

<p>Regardless of what they control, all dials in <i>xv</i> work
the same way. Clicking on the single arrows increase/decrease the
value by 1. Clicking on the double arrows increase/decrease the
value by a larger amount (16 in this case). If you click on one
of the arrows, and hold the mouse button down, the
increase/decrease will repeat until you release the mouse button.</p>

<p>You can also click in the general area of the pointer and
simply drag it to the position you want. The further your mouse
cursor is from the center of the dial, the more precise the
control will be. While dragging, you do not have to keep the
cursor inside the dial window.</p>

<h3><a name="colormap-editing-commands">Colormap Editing Commands</a></h3>

<dl>
    <dt><a name="colundo"><img src="images/fig-103.gif"
		width="67" height="24"></a></dt>
    <dd>Undoes the last change made to the colormap that resulted
		in a color cell changing value. This includes grouping
		and ungrouping color cells, and changing any of the
		dials. </dd>
    <dt>&nbsp;</dt>
    <dt><a name="revert"><img src="images/fig-104.gif" width="68"
		height="24"></a></dt>
    <dd>Undoes all color changes. Returns the colormap to its
		original state. Destroys any groups that you may have
		created. </dd>
    <dt>&nbsp;</dt>
    <dt><a name="rgb-hsv"><img src="images/fig-105.gif"
		width="67" height="24"></a></dt>
    <dd><table border="0" width="90%">
		    <tr>
				<td valign="top">Toggles the <i>Colormap Editing</i>
				dials between editing colors in terms of Red,
				Green, and Blue, and editing colors in terms of
				Hue, Saturation, and Value. </td>
				<td><img src="images/fig-106.gif" width="202"
				height="102"></td>
		    </tr>
		</table>
    </dd>
    <dt><a name="grey"><img src="images/fig-107.gif" width="67"
		height="24"></a></dt>
    <dd>Turns color images into greyscale images by changing the
		colormap. This replaces each color cell with a greyscale
		representation of itself. Use the <b>Revert</b> command
		to restore the colors. </dd>
    <dt>&nbsp;</dt>
    <dt><a name="revvid"><img src="images/fig-108.gif" width="68"
		height="24"></a></dt>
    <dd>This command behaves differently, depending on the
		setting of the <b>RGB/HSV</b> mode. (You can tell which
		mode you're in by the titles on the dials.) <p>In RGB
		mode, each color component is separately 'inverted'. For
		example, Yellow (which is composed of full red, full
		green, and no blue) would turn to Blue (no red, no green,
		full blue).</p>
		<p>In HSV mode, only the Value (intensity) component is
		'inverted'. The Hue and Saturation components remain the
		same. In this mode, bright colors turn to dark versions
		of the same color. For example, a Yellow would turn
		Brown. </p>
    </dd>
    <dt><a name="random"><img src="images/fig-109.gif" width="67"
		height="24"></a></dt>
    <dd>Generates a random colormap. This is of questionable
		usefulness, but it will occasionally come up with
		pleasing color combinations that you never would've come
		up with yourself. So it stays in. It works best on images
		with a small number of colors. Note that it respects cell
		groupings, so if your image has a lot of colors, you can
		create a few large groups and then use the Random
		command. </dd>
</dl>

<p>Note: It is HIGHLY RECOMMENDED that if you're using the <i>Colormap
Editing</i> tool, you do <i>not</i> use either the <i>HSV
Modification</i> tool or the <i>RGB Modification</i> tool. If you
do, the results can be quite confusing. For example, you might
edit a color cell, and set its color values to produce a purple.
However, because of HSV/RGB Modification further down the line,
the actual color displayed on the image (and in the color cell)
is yellow. It confuses me, it'll probably confuse you, too.</p>

<hr color="#000080">

<p>
<MAP NAME="FrontPageMap">
<AREA SHAPE="RECT" COORDS="393, 0, 453, 24" HREF="color-editor-2.html">
<AREA SHAPE="RECT" COORDS="331, 0, 387, 24" HREF="info-window.html">
<AREA SHAPE="RECT" COORDS="263, 0, 323, 24" HREF="manindex.html">
<AREA SHAPE="RECT" COORDS="164, 0, 254, 24" HREF="index.html#Table+of+Contents">
</MAP>
<img src="images/navbar.gif" width="630" ismap usemap="#FrontPageMap"
height="25" border="0">
</p>
</body>
</html>
